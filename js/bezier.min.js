/*! Copy from LeaderLine http://anseki.github.io/leader-line/ */
function getPointOnCubic(t,x,y,n,r){"use strict";var u=r*r,e=u*r,i=1-r,a=i*i,c=a*i,o=c*t.x+3*a*r*x.x+3*i*u*y.x+e*n.x,f=c*t.y+3*a*r*x.y+3*i*u*y.y+e*n.y,s=t.x+2*r*(x.x-t.x)+u*(y.x-2*x.x+t.x),g=t.y+2*r*(x.y-t.y)+u*(y.y-2*x.y+t.y),h=x.x+2*r*(y.x-x.x)+u*(n.x-2*y.x+x.x),b=x.y+2*r*(y.y-x.y)+u*(n.y-2*y.y+x.y),P=i*t.x+r*x.x,C=i*t.y+r*x.y,M=i*y.x+r*n.x,l=i*y.y+r*n.y,v=90-180*Math.atan2(s-h,g-b)/Math.PI;return v+=v>180?-180:180,{x:o,y:f,fromP2:{x:s,y:g},toP1:{x:h,y:b},fromP1:{x:P,y:C},toP2:{x:M,y:l},angle:v}}function getCubicLength(t,x,y,n,r){"use strict";function u(t,x,y,n,r){return t*(t*(-3*x+9*y-9*n+3*r)+6*x-12*y+6*n)-3*x+3*y}var e,i,a,c,o,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],s=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],g=0;return r=null==r||r>1?1:0>r?0:r,e=r/2,f.forEach(function(r,f){i=e*r+e,a=u(i,t.x,x.x,y.x,n.x),c=u(i,t.y,x.y,y.y,n.y),o=a*a+c*c,g+=s[f]*Math.sqrt(o)}),e*g}function getCubicT(t,x,y,n,r){"use strict";for(var u,e=.01,i=.5,a=1-i;;){if(u=getCubicLength(t,x,y,n,a),Math.abs(u-r)<=e)break;i/=2,a+=(r>u?1:-1)*i}return a}