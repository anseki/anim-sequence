/*! AnimSequence v0.0.1 (c) anseki https://github.com/anseki/anim-sequence */
var AnimSequence=function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t){"use strict";function r(){var e=Date.now(),t=!1;n&&(s.call(window,n),n=null),l.forEach(function(r){var a,n,i;if(r.framesStart){if(a=e-r.framesStart,a>=r.duration&&r.count&&r.loopsLeft<=1)return i=r.frames[r.lastFrame=r.reverse?0:r.frames.length-1],r.frameCallback(i.value,!0,i.timeRatio,i.outputRatio),void(r.framesStart=null);if(a>r.duration){if(n=Math.floor(a/r.duration),r.count){if(n>=r.loopsLeft)return i=r.frames[r.lastFrame=r.reverse?0:r.frames.length-1],r.frameCallback(i.value,!0,i.timeRatio,i.outputRatio),void(r.framesStart=null);r.loopsLeft-=n}r.framesStart+=r.duration*n,a=e-r.framesStart}r.reverse&&(a=r.duration-a),i=r.frames[r.lastFrame=Math.round(a/o)],r.frameCallback(i.value,!1,i.timeRatio,i.outputRatio)!==!1?t=!0:r.framesStart=null}}),t&&(n=u.call(window,r))}function a(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,r()}Object.defineProperty(t,"__esModule",{value:!0});var n,i={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},o=1e3/60/2,u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,o)},s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},m=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},l=[],f=0,c={add:function(e,t,r,n,u,s,m){function c(e){var t=e*e,r=t*e,a=1-e,n=a*a,i=3*n*e,o=3*a*t;return{x:i*u[0]+o*u[2]+r,y:i*u[1]+o*u[3]+r}}function d(t,r){return{value:e(r),timeRatio:t,outputRatio:r}}var v,w,p,F,S,R,A,b=++f;if("string"==typeof u&&(u=i[u]),e=e||function(){},r<o)w=[d(0,0),d(1,1)];else{if(p=o/r,w=[d(0,0)],0===u[0]&&0===u[1]&&1===u[2]&&1===u[3])for(S=p;S<=1;S+=p)w.push(d(S,S));else for(F=p/10,S=p,R=F;R<=1;R+=F)A=c(R),A.x>=S&&(w.push(d(A.x,A.y)),S+=p);w.push(d(1,1))}return v={animId:b,frameCallback:t,duration:r,count:n,frames:w,reverse:!!s},l.push(v),m!==!1&&a(v,m),b},remove:function(e){var t;l.some(function(r,a){return r.animId===e&&(t=a,r.framesStart=null,!0)})&&l.splice(t,1)},start:function(e,t,r){l.some(function(n){return n.animId===e&&(n.reverse=!!t,a(n,r),!0)})},stop:function(e,t){var r;return l.some(function(a){return a.animId===e&&(t?null!=a.lastFrame&&(r=a.frames[a.lastFrame].timeRatio):(r=(Date.now()-a.framesStart)/a.duration,a.reverse&&(r=1-r),r<0?r=0:r>1&&(r=1)),a.framesStart=null,!0)}),r},validTiming:function(e){return"string"==typeof e?i[e]:Array.isArray(e)&&[0,1,2,3].every(function(t){return m(e[t])&&e[t]>=0&&e[t]<=1})?[e[0],e[1],e[2],e[3]]:null}};t.default=c,e.exports=t.default}]);