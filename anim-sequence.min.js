/*! AnimSequence v0.0.4 (c) anseki https://anseki.github.io/anim-sequence/ */
var AnimSequence=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(){var e=Date.now(),t=!1;o&&(f.call(window,o),o=null),m.forEach(function(r){var n,a,o;if(r.framesStart){if((n=e-r.framesStart)>=r.duration&&r.count&&r.loopsLeft<=1)return o=r.frames[r.lastFrame=r.reverse?0:r.frames.length-1],r.frameCallback(o.value,!0,o.timeRatio,o.outputRatio),void(r.framesStart=null);if(n>r.duration){if(a=Math.floor(n/r.duration),r.count){if(a>=r.loopsLeft)return o=r.frames[r.lastFrame=r.reverse?0:r.frames.length-1],r.frameCallback(o.value,!0,o.timeRatio,o.outputRatio),void(r.framesStart=null);r.loopsLeft-=a}r.framesStart+=r.duration*a,n=e-r.framesStart}r.reverse&&(n=r.duration-n),o=r.frames[r.lastFrame=Math.round(n/u)],r.frameCallback(o.value,!1,o.timeRatio,o.outputRatio)!==!1?t=!0:r.framesStart=null}}),t&&(o=s.call(window,n))}function a(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,n()}Object.defineProperty(t,"__esModule",{value:!0});var o,i={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},u=1e3/60/2,s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,u)},f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},l=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},m=[],c=0,d={add:function(e,t,r,n,o,s,f){function l(e){var t=e*e,r=t*e,n=1-e,a=n*n,i=3*a*e,u=3*n*t;return{x:i*o[0]+u*o[2]+r,y:i*o[1]+u*o[3]+r}}function d(t,r){return{value:e(r),timeRatio:t,outputRatio:r}}var p,v,w,F,b,S,y,R=++c;if("string"==typeof o&&(o=i[o]),e=e||function(){},r<u)v=[d(0,0),d(1,1)];else{if(w=u/r,v=[d(0,0)],0===o[0]&&0===o[1]&&1===o[2]&&1===o[3])for(b=w;b<=1;b+=w)v.push(d(b,b));else for(F=w/10,b=w,S=F;S<=1;S+=F)y=l(S),y.x>=b&&(v.push(d(y.x,y.y)),b+=w);v.push(d(1,1))}return p={animId:R,frameCallback:t,duration:r,count:n,frames:v,reverse:!!s},m.push(p),f!==!1&&a(p,f),R},remove:function(e){var t;m.some(function(r,n){return r.animId===e&&(t=n,r.framesStart=null,!0)})&&m.splice(t,1)},start:function(e,t,r){m.some(function(n){return n.animId===e&&(n.reverse=!!t,a(n,r),!0)})},stop:function(e,t){var r;return m.some(function(n){return n.animId===e&&(t?null!=n.lastFrame&&(r=n.frames[n.lastFrame].timeRatio):(r=(Date.now()-n.framesStart)/n.duration,n.reverse&&(r=1-r),r<0?r=0:r>1&&(r=1)),n.framesStart=null,!0)}),r},validTiming:function(e){return"string"==typeof e?i[e]:Array.isArray(e)&&[0,1,2,3].every(function(t){return l(e[t])&&e[t]>=0&&e[t]<=1})?[e[0],e[1],e[2],e[3]]:null}};t.default=d,e.exports=t.default}]);